"""
PRELOADED_PHOTOS.PY - –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ –¥–ª—è –±–æ—Ç–∞
–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã –±–µ–∑ –∑–∞–≥—Ä—É–∑–∫–∏ —Ñ–æ—Ç–æ —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É
"""

# –°–ª–æ–≤–∞—Ä—å –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Ñ–æ—Ç–æ file_id
PRELOADED_PHOTOS = {
    # –¢–µ–ª–æ (8 —Ñ–æ—Ç–æ) - –í–°–ï –ï–°–¢–¨
    "cream_body": "AgACAgIAAxkBAAIOAAFpfzB4tBVuXDSPxMqnVU2OwBq7EAACkQxrG7GC-UsvT4zgsq6mRAEAAwIAA3kAAzgE",
    "hydrophilic_oil": "AgACAgIAAxkBAAIOEGl_NjKQL00hYx32qwABSXAs1I95CwACtwxrG7GC-UtNsAABIZQivN8BAAMCAAN5AAM4BA",
    "body_butter": "AgACAgIAAxkBAAIOEml_NkXnNp7rDdmlY3ZkQ6KTz5L9AAK4DGsbsYL5S4M6zSq50aanAQADAgADeQADOAQ",
    "body_milk": "AgACAgIAAxkBAAIOFGl_Nld0azVe4ekhca_Yn9z-EPrdAAK5DGsbsYL5S7wZODl3guYxAQADAgADeQADOAQ",
    "hualuronic_acid": "AgACAgIAAxkBAAIOFml_NnGtDhN-dDTHJc04sSvb-t9BAAK7DGsbsYL5S9GM-PCklmdyAQADAgADeQADOAQ",
    "body_scrub": "AgACAgIAAxkBAAIOGGl_NoRfPhckj9Y_FkOJdEPhKUyYAAK8DGsbsYL5Sx_bxSO-jWuPAQADAgADeQADOAQ",
    "shower_gel": "AgACAgIAAxkBAAIOGml_NpsncG784BDQ-jzy8BaCx43HAAK-DGsbsYL5S9RSnAJRcCAEAQADAgADeQADOAQ",
    "perfumed_soap": "",  # –ù–ï–¢ –§–û–¢–û - –û–°–¢–ê–í–¨–¢–ï –ü–£–°–¢–´–ú
    
    # –í–æ–ª–æ—Å—ã (23 —Ñ–æ—Ç–æ)
    # –î–ª—è –±–ª–æ–Ω–¥–∏–Ω–æ–∫
    "blonde_shampoo": "AgACAgIAAxkBAAIOHGl_NrvpGa81qA2k_K9QHYGVohW6AALADGsbsYL5S7c9GM0nQ6isAQADAgADeQADOAQ",
    "blonde_conditioner": "AgACAgIAAxkBAAIOHml_NtHWaChZuYy4AzRRXT4Jwmv7AALBDGsbsYL5S3jjD_FOg4aaAQADAgADeQADOAQ",
    "blonde_mask": "AgACAgIAAxkBAAIOIGl_NuEQizJBdsJqLxjNuTvMwMaXAALDDGsbsYL5S33f-CS4k-0yAQADAgADeQADOAQ",
    "dry_oil_spray": "AgACAgIAAxkBAAIOIml_NwvbpF7gDERrZvDI6ldtHsgPAALEDGsbsYL5S1Azz7JvLNK9AQADAgADeQADOAQ",
    "mask_pink_powder": "AgACAgIAAxkBAAIOJGl_Nx6AYNg14vyKZjjCUJa_AAHgZwACxQxrG7GC-UvKy5Xx3vSTOwEAAwIAA3kAAzgE",
    "mask_mother_of_pearl": "AgACAgIAAxkBAAIOJml_NzEresSOHklKJd6CShczRg0AA8YMaxuxgvlLsfMuQto5m7cBAAMCAAN5AAM4BA",
    
    # –î–ª—è –æ–∫—Ä–∞—à–µ–Ω–Ω—ã—Ö –≤–æ–ª–æ—Å
    "colored_shampoo": "",  # –ù–ï–¢ –§–û–¢–û - –û–°–¢–ê–í–¨–¢–ï –ü–£–°–¢–´–ú
    "colored_conditioner": "AgACAgIAAxkBAAIOKGl_N2IMWBIw25WqP96rBrasELoaAALJDGsbsYL5Sy8We9GZpgqbAQADAgADeQADOAQ",
    "colored_mask": "AgACAgIAAxkBAAIOKml_N3dC3l2mH5M5xUdWYFlI6yE_AALNDGsbsYL5S_IxV81TFN6lAQADAgADeQADOAQ",
    
    # –î–ª—è —Ç–æ–Ω–∫–∏—Ö –≤–æ–ª–æ—Å
    "thin_hair_shampoo": "AgACAgIAAxkBAAIOLGl_N7g5ZF_UiDcmpRMAAZ86tjoluAACzgxrG7GC-Uv1mUxDf-Ji5QEAAwIAA3cAAzgE",
    "thin_hair_conditioner": "AgACAgIAAxkBAAIOLml_N80wlrO7q1BqSkkEXeimJcw_AALQDGsbsYL5S7wiE4Zlevo3AQADAgADdwADOAQ",
    
    # –ú–∞—Å–ª–∞ –∏ —ç–ª–∏–∫—Å–∏—Ä—ã
    "oil_elixir": "AgACAgIAAxkBAAIOMGl_N_kcdJvkiGEjYXATmy-gysVgAALSDGsbsYL5S29u6oeaX0YiAQADAgADeQADOAQ",
    "oil_concentrate": "AgACAgIAAxkBAAIOMml_OFD8SxuFV6l-oqOox3REQP3gAALXDGsbsYL5SxP_FX3c7wGpAQADAgADeQADOAQ",
    
    # –§–ª—é–∏–¥—ã –∏ –∫—Ä–µ–º—ã
    "hair_fluid": "AgACAgIAAxkBAAIONGl_OGb-64pWiv-sw4R9Z3aCa-WNAALYDGsbsYL5S_es_3Uzu5gwAQADAgADeQADOAQ",
    "strengthening_mask": "AgACAgIAAxkBAAIONml_OH3wsY14-NLMI02QHj3efZWvAALaDGsbsYL5SzAAAWvtuQoHtwEAAwIAA3cAAzgE",
    
    # –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
    "reconstruct_shampoo": "AgACAgIAAxkBAAIOOGl_OJ6hk2md5snBlrv3wkd5BghAAALbDGsbsYL5S7ochXwPpdIsAQADAgADeQADOAQ",
    "reconstruct_mask": "AgACAgIAAxkBAAIOOml_OK_BrZQxYWQpPGy4nuU2nsbCAALcDGsbsYL5S3DXnSMC-RGUAQADAgADeQADOAQ",
    "biolipid_spray": "AgACAgIAAxkBAAIOPGl_OMCPGfmS1Wv2SCENFYalbo5zAALeDGsbsYL5S13mrWg7QhpcAQADAgADeQADOAQ",
    "protein_cream": "AgACAgIAAxkBAAIOPml_ONfSKU8CRDxwgYZYcGgDcj_oAALiDGsbsYL5S7xP_IfW9H08AQADAgADeQADOAQ",
    "hair_milk": "AgACAgIAAxkBAAIOQGl_OPUJsnjnjmwh9YlsHIsvJkjBAALjDGsbsYL5S4WlJt-_6tU8AQADAgADeQADOAQ",
    
    # –û—Ç—Ç–µ–Ω–æ—á–Ω—ã–µ –º–∞—Å–∫–∏
    "mask_cold_chocolate": "AgACAgIAAxkBAAIOQml_ORP1MDVoRCIhZyBO2qnA258YAALlDGsbsYL5SzvEG6sZk0gHAQADAgADeQADOAQ",
    "mask_copper": "AgACAgIAAxkBAAIORGl_OSYAAdYQpVkuui-jogsTVGA7kAAC5gxrG7GC-Uts4UIZrHAH9MAEAAwIAA3kAAzgE",
    
    # –î–ª—è –º—É–∂—á–∏–Ω
    "men_shampoo": "",  # –ù–ï–¢ –§–û–¢–û - –û–°–¢–ê–í–¨–¢–ï –ü–£–°–¢–´–ú
}

def initialize_preloaded_photos(photo_map_module):
    """
    –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ –≤ —Å–∏—Å—Ç–µ–º–µ
    """
    loaded_count = 0
    missing_count = 0
    
    for key, file_id in PRELOADED_PHOTOS.items():
        if file_id and file_id.strip():
            success = photo_map_module.set_photo_file_id(key, file_id)
            if success:
                loaded_count += 1
            else:
                missing_count += 1
        else:
            missing_count += 1
    
    return {
        "loaded": loaded_count,
        "total": len(PRELOADED_PHOTOS),
        "missing": missing_count,
        "percentage": round((loaded_count / len(PRELOADED_PHOTOS)) * 100, 1) if PRELOADED_PHOTOS else 0
    }

def get_missing_products():
    """
    –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–¥—É–∫—Ç–æ–≤, –¥–ª—è –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç —Ñ–æ—Ç–æ –≤ –ø—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–µ
    –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –∫–æ—Ä—Ç–µ–∂–µ–π (–∫–ª—é—á, –Ω–∞–∑–≤–∞–Ω–∏–µ)
    """
    from photo_map import ALL_PHOTO_KEYS
    
    missing_products = []
    
    for key, name in ALL_PHOTO_KEYS.items():
        if key not in PRELOADED_PHOTOS or not PRELOADED_PHOTOS[key]:
            missing_products.append((key, name))
    
    return missing_products

def get_loaded_stats():
    """
    –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –ø–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–º —Ñ–æ—Ç–æ
    """
    total_in_system = len(PRELOADED_PHOTOS)
    loaded = len([f for f in PRELOADED_PHOTOS.values() if f and f.strip()])
    missing = total_in_system - loaded
    
    return {
        "total": total_in_system,
        "loaded": loaded,
        "missing": missing,
        "percentage": round((loaded / total_in_system) * 100, 1) if total_in_system > 0 else 0
    }

if __name__ == "__main__":
    print("üì∏ –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ:")
    stats = get_loaded_stats()
    print(f"‚úÖ –ó–∞–≥—Ä—É–∂–µ–Ω–æ: {stats['loaded']} –∏–∑ {stats['total']}")
    print(f"üìà –ü—Ä–æ–≥—Ä–µ—Å—Å: {stats['percentage']}%")
    print(f"‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç: {stats['missing']}")
    
    missing_products = get_missing_products()
    if missing_products:
        print("\nüìã –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–æ–¥—É–∫—Ç—ã:")
        for key, name in missing_products[:10]:
            print(f"  ‚Ä¢ {name} (–∫–ª—é—á: {key})")
        if len(missing_products) > 10:
            print(f"  ... –∏ –µ—â–µ {len(missing_products) - 10} –ø—Ä–æ–¥—É–∫—Ç–æ–≤")
